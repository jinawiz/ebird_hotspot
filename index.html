
# 요청한 locations 배열을 적용한 index.html 파일 생성

html_code = """
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>eBird 지도 + 위성/라벨 토글 + 클릭 좌표 팝업</title>
    <style>
      html, body { margin:0; padding:0; height:100%; }
      #map { width:100%; height:100%; }
      #labelToggle {
        position: absolute !important;
        top: 10px !important;
        left: 70px !important;
        background: white;
        padding: 5px;
        z-index: 2000;
        border-radius: 4px;
        font-family: Arial, sans-serif;
      }
    </style>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  </head>
  <body>
    <div id="map"></div>
    <div id="labelToggle">
      <label><input type="checkbox" id="labels" checked> 위성 라벨 표시</label>
    </div>
    <script>
      var locations = [
        {lat: 37.4919101, lng: 126.9191274, name: "서울--보라매공원(Seoul--Boramae Park)"},
        {lat: 36.8870599, lng: 126.8986983, name: "아산--아산만 걸매리 갯벌 (Asan--Geolmae-ri Tidal Flats)"}
      ];

      var map = L.map('map').setView([locations[0].lat, locations[0].lng], 20);

      // ✅ 일반 지도
      var osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '© OpenStreetMap'
      });

      // ✅ 위성지도
      var esriSat = L.tileLayer(
        'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
        { attribution: 'Tiles © Esri', maxZoom: 20 }
      );

      // ✅ 라벨 (도로명 + 지명)
      var esriRoadLabels = L.tileLayer(
        'https://server.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer/tile/{z}/{y}/{x}',
        { attribution: 'Labels © Esri', maxZoom: 20, format: 'png' }
      );

      var esriPlaceLabels = L.tileLayer(
        'https://server.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places_Alternate/MapServer/tile/{z}/{y}/{x}',
        { attribution: 'Labels © Esri', maxZoom: 20, format: 'png' }
      );

      // ✅ 초기 레이어
      esriSat.addTo(map);
      esriRoadLabels.addTo(map);
      esriPlaceLabels.addTo(map);

      // ✅ 지도/위성 전환
      var baseMaps = {
        "일반 지도": osm,
        "위성 지도": esriSat
      };
      L.control.layers(baseMaps).addTo(map);

      // ✅ 라벨 토글
      document.getElementById('labels').addEventListener('change', function(e) {
        if (e.target.checked) {
          map.addLayer(esriRoadLabels);
          map.addLayer(esriPlaceLabels);
        } else {
          map.removeLayer(esriRoadLabels);
          map.removeLayer(esriPlaceLabels);
        }
      });

      // ✅ 마커 추가
      locations.forEach(function(loc) {
        L.marker([loc.lat, loc.lng]).addTo(map).bindPopup(loc.name);
      });

      // ✅ 지도 클릭 시 좌표 팝업
      map.on('click', function(e) {
        var lat = e.latlng.lat.toFixed(6);
        var lng = e.latlng.lng.toFixed(6);
        L.popup()
          .setLatLng(e.latlng)
          .setContent("위도: " + lat + "<br>경도: " + lng)
          .openOn(map);
      });
    </script>
  </body>
</html>
"""

file_path = "/mnt/data/index.html"
with open(file_path, "w") as f:
    f.write(html_code)

file_path